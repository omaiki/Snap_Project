<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
  <script>
    //get video source
    videos = document.querySelectorAll("video");
    for (var i = 0, l = videos.length; i < l; i++) {
       var video = videos[i];
       var src = video.src || (function () {
           var sources = video.querySelectorAll("source");
           for (var j = 0, sl = sources.length; j < sl; j++) {
               var source = sources[j];
               var type = source.type;
               var isMp4 = type.indexOf("mp4") != -1;
               if (isMp4) return source.src;
           }
           return null;
       })();
       if (src) {
           var isYoutube = src && src.match(/(?:youtu|youtube)(?:\.com|\.be)\/([\w\W]+)/i);
           if (isYoutube) {
               var id = isYoutube[1].match(/watch\?v=|[\w\W]+/gi);
               id = (id.length > 1) ? id.splice(1) : id;
               id = id.toString();
               var mp4url = "http://www.youtubeinmp4.com/redirect.php?video=";
               video.src = mp4url + id;
           }
       }
    }
    var videoId = 'video';
    var scaleFactor = 0.5;
    var snapshots = [];
    function capture(video, scaleFactor) {
      if(scaleFactor == null){
        scaleFactor = 1;
      }
      var w = video.videoWidth * scaleFactor;
      var h = video.videoHeight * scaleFactor;
      var canvas = document.createElement('canvas');
        canvas.width  = w;
          canvas.height = h;
      var ctx = canvas.getContext('2d');
        ctx.drawImage(video, 0, 0, w, h);
        return canvas;
    }
    function shoot() {
      var video  = document.getElementById(videoId);
      var output = document.getElementById('output');
      var canvas = capture(video, scaleFactor);
        canvas.onclick = function(){
          window.open(this.toDataURL());
        };
      snapshots.unshift(canvas);
      output.innerHTML = '';
      for(var i=0; i<4; i++){
        output.appendChild(snapshots[i]);
      }
    }
  </script>


  <h1>Welcome#index</h1>
<p>Find me in app/views/welcome/index.html.erb</p>
